// // Middleware to check for role-based access using sessions
// const authorize = () => {
 

//   return (req, res, next) => {
//     console.log("Session User:", req.session.user); // Log session to check if user is authenticated
//     const user = req.session.user; // Get user from session
//     console.log("Session data:", user);
//     if (!user) {
//       req.flash("error", "Login again .....");
//       return res.redirect('/user/login');
//     }

//     req.user = user; // Store user in the request object for later use
//     next(); // Proceed to next middleware or route handler
//   };
// };

// module.exports = authorize;
